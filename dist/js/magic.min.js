/*
 package 2019-02-14 
*/

var map,toolbar,symbol,initialExtent,newExtent,testingExtent,testingExtent2,scalebar,isMobile,sessionNumber,disclaimerFlag,basemap,abLayer,assessorServiceLayer,assessorannoServiceLayer,transportationServiceLayer,bcLayer,PLULayer,CCZoningLayer,C50Layer,C2003Layer,C1996Layer,hendersonZoningLayer,lasVegasZoningLayer,mesquiteZoningLayer,nlvZoningLayer,seismicLayer,SoilLayer,rightofwayLayer,ieBrowser,dropHeight,sv,panorama,myHome,wickedLocation,theLocal,coordSystem,bufferFill,printTask,params,geometry,constCurrentTool,bufferParms,productCode="OW4",functionMode="identify",skinnyPanelOpen=!1,panelCloseHit=!1,autocompleteIsShowing=!1,searchHasCompleted=!1,autocompleteDirty=!1,propInfo_searchInputClick=!1,strViewOverride=!1,zoningPLUFlag=!1,legalDescrFlag=!1,ownershipFlag=!1,floodZoneFlag=!1,elecOfficialsFlag=!1,linksFlag=!1,appended=!1,isMax=0,bufferCreateCount=0,bufferCumulativeVal=0,mapPinDrawflag=!1,annoDrawflag=!1,freshView="",hiddenState=!1,servicePrefix="http://maps.clarkcountynv.gov/",serviceSuffix_F="arcgis_images/rest/services/",serviceType_F="CACHED",serviceSuffix_L="arcgis/rest/services/",serviceType_L="GISMO";function config(){angular.element($("#mapDiv")).scope().configLoad()}function initStreetView(){sv=new google.maps.StreetViewService,panorama=new google.maps.StreetViewPanorama(document.getElementById("pano"))}function postMetric(e,r){$.ajax({url:"http://maps.clarkcountynv.gov/gismo/webservice/GISDataWCF/GISDataService.svc/jsonep/addMetric",data:{app:e,RecordedAction:r}}).done(function(e){"UserAgent:"==r.substring(0,10)&&(sessionNumber=e)}).fail(function(e){})}function repoMap(){map.reposition(),map.resize(),console.log("M [[ repo was hit ]]")}function resizeMap(){map.resize(),console.log("M [[ resize was hit ]]")}function externalPrint(){require(["esri/dijit/Print","esri/tasks/PrintTask","esri/tasks/PrintTemplate"],function(e,r,a){console.log("process print just got hit"),$("#printLoadingTag").show(),$("#printInitLink").hide(),console.log("M [[ printing to PDF ]]"),printTask.execute(params,function(e){angular.element($("#mapDiv")).scope().constructPrintFriendly(e.url),$("#printLoadingTag").hide(),$("#printFriendlyLink").show(),$("#rawExportPNGLink").attr("href",e.url),$("#exportPreviewIframe").attr("src",e.url),console.log("M [[ print: "+e.url+" ]]")})})}function processPrint2(){}function themeCheck(){}function disclaimerCheck(){console.log("this is the localstorage val "+localStorage.disclaim),"nodisclaim"!==localStorage.disclaim?($("#disclaimerDialog").dialog("open"),console.log("M [[ fresh disclaimer ]]")):console.log("M [[ "+localStorage.disclaim+" ]]")}function detectIE(){var e=window.navigator.userAgent,r=e.indexOf("MSIE ");if(0<r)return parseInt(e.substring(r+5,e.indexOf(".",r)),10);if(0<e.indexOf("Trident/")){var a=e.indexOf("rv:");return parseInt(e.substring(a+3,e.indexOf(".",a)),10)}var t=e.indexOf("Edge/");return 0<t&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}require(["dojo/dom","dojo/_base/array","dojo/dom-attr","dojo/number","esri/map","esri/dijit/Measurement","esri/geometry/Polyline","esri/units","esri/geometry/Point","esri/geometry/webMercatorUtils","esri/tasks/ProjectParameters","esri/geometry/Geometry","esri/geometry/Extent","esri/SpatialReference","esri/geometry/normalizeUtils","esri/tasks/GeometryService","esri/tasks/BufferParameters","esri/graphic","esri/toolbars/draw","esri/symbols/SimpleMarkerSymbol","esri/symbols/PictureMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/symbols/Font","esri/symbols/TextSymbol","esri/Color","esri/dijit/Print","esri/tasks/PrintTask","esri/tasks/PrintTemplate","esri/dijit/Scalebar","application/bootstrapmap","esri/dijit/LocateButton","esri/layers/ArcGISImageServiceLayer","esri/layers/FeatureLayer","esri/dijit/Legend","dojo/_base/array","dijit/registry","dojo/parser","dojo/domReady!"],function(a,r,e,t,o,n,i,s,c,l,p,m,g,y,u,d,f,v,S,w,M,h,A,L,C,I,b,x,T,D,P,O,k,G,E,B,Z,N){function H(e){if(console.log("ADDTOMAP CALLED"),toolbar.deactivate(),m=e.geometry,console.log("this is what the type is actually coming in as: "+m.type),!0===mapPinDrawflag)a=new M({angle:0,xoffset:2,yoffset:8,type:"esriPMS",url:"http://static.arcgis.com/images/Symbols/Basic/RedShinyPin.png",imageData:"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",contentType:"image/png",width:24,height:24}),mapPinDrawflag=!1;else if(!0===annoDrawflag){var r=$("#annoTextBox").val();a=new C(r).setColor(new I([255,255,255])).setAlign(L.ALIGN_START).setAngle(0).setFont(new L("12pt").setWeight(L.WEIGHT_BOLD)),console.log("it hit the annodraw")}else{var a;console.log("its also hitting regular point"),a="point"===m.type||"multipoint"===m.type?new w(w.STYLE_CIRCLE,10,new h(h.STYLE_SOLID,new I([0,0,102]),1),new I([204,51,255])):"line"===m.type||"polyline"===m.type?new h:new A}var t,o,n=new v(m,a);n.id="highlight",console.log(n.id),t=n,o=m,console.log("TEST2"),map.graphics.add(t),!0===bufferFill&&U(o,!1)}function U(e,r){console.log(r),1<r?(bufferCumulativeVal+=parseInt(a.byId("bufferDistanceInputBox").value),bufferParms.distances=[bufferCumulativeVal],console.log("dirty state!")):(bufferParms=new f,bufferCumulativeVal+=parseInt(a.byId("bufferDistanceInputBox").value),bufferParms.distances=[bufferCumulativeVal]),bufferParms.outSpatialReference=map.spatialReference,bufferParms.unit=d[a.byId("bufferUnitsSelectBox").value],u.normalizeCentralMeridian([e]).then(function(e){var r=e[0];console.log("THE CURRENT GEOM TYPE IS: "+r.type),"point"===r.type||("polygon"===r.type?esriConfig.defaults.geometryService.simplify([r],function(e){bufferParms.geometries=e,esriConfig.defaults.geometryService.buffer(bufferParms,F)}):(bufferParms.geometries=[r],esriConfig.defaults.geometryService.buffer(bufferParms,F)))})}function F(e){var a=new A(A.STYLE_SOLID,new h(h.STYLE_SOLID,new I([255,0,0,.65]),2),new I([255,0,0,.35]));r.forEach(e,function(e){var r=new v(e,a);map.graphics.add(r)})}N.parse(),esri.config.defaults.io.proxyUrl="/proxy/proxy.ashx",esriConfig.defaults.geometryService=new d(servicePrefix+"arcgis/rest/services/Utilities/Geometry/GeometryServer/"),initialExtent=new esri.geometry.Extent({xmin:779321,ymin:26759729,xmax:786446,ymax:26764499,spatialReference:{wkid:102707}}),map=P.create("mapDiv",{logo:!1,scrollWheelZoom:!0,sliderPosition:"bottom-right"}),scalebar=new D({map:map,attachTo:"bottom-left",scalebarUnit:"dual"}),map.on("load",function(){console.log("M [[ map loaded ]]"),map.disableKeyboardNavigation()}),map.on("load",function(e){console.log("TOOLBAR INIT CALLED"),(toolbar=new S(map)).on("draw-end",H)}),$(".closeToolIcon").click(function(){functionMode="identify",$("#currentToolTag").text("Select Property")}),$(".toolSelect").click(function(){functionMode="draw",$("#currentToolTag").text($(this).attr("id")),constCurrentTool=$(this).attr("id").toUpperCase().replace(/ /g,"_"),console.log("THE COMPLETED CONSTRUCTED TOOL TYPE IS: "+constCurrentTool),"PIN"===constCurrentTool?(annoDrawflag=!(mapPinDrawflag=!0),console.log("test1"),toolbar.activate(S.POINT),$(".drawtooltiptext").text("Click to add a pin")):"POINT"===constCurrentTool?(annoDrawflag=mapPinDrawflag=!1,toolbar.activate(S[constCurrentTool]),$(".drawtooltiptext").text("Click to add point")):"MULTI_POINT"===constCurrentTool?(annoDrawflag=mapPinDrawflag=!1,toolbar.activate(S.MULTI_POINT)):"FH_LINE"===constCurrentTool?(annoDrawflag=mapPinDrawflag=!1,toolbar.activate(S.FREEHAND_POLYLINE),$(".drawtooltiptext").text("Press down to start, let go to finish")):"POLYGON"===constCurrentTool?(annoDrawflag=mapPinDrawflag=!1,toolbar.activate(S[constCurrentTool]),$(".drawtooltiptext").text("Click to draw, double-click to complete")):"FH_POLYGON"===constCurrentTool?(annoDrawflag=mapPinDrawflag=!1,toolbar.activate(S.FREEHAND_POLYGON),$(".drawtooltiptext").text("Press down to start, let go to finish")):"ANNO_TEXT"===constCurrentTool||(annoDrawflag=mapPinDrawflag=!1,console.log("test2"),toolbar.activate(S[constCurrentTool]),$(".drawtooltiptext").text("Click to add / Click and drag to size")),$(".drawtooltiptext").css("visibility","visible"),console.log("THE TOOL ATTR is  "+constCurrentTool)}),$(".dropdown-menu li a").click(function(){$(this).parents(".dropdown").find(".btn").html($(this).text()+'<span class="ion-android-more-horizontal"></span>'),$(this).parents(".dropdown").find(".btn").val($(this).data("value"));var e=$(this).parents(".dropdown").find(".btn").text();console.log(e)}),$(".drawDropDownMenuItem").click(function(){functionMode="identify",$("#currentToolTag").text("Select Property"),$(".draw-tools-container").css({display:"flex"}),$(".buffer-tools-container").css({display:"none"}),$(".annotate-tools-container").css({display:"none"})}),$(".bufferDropDownMenuItem").click(function(){functionMode="identify",$("#currentToolTag").text("Select Property"),$(".draw-tools-container").css({display:"none"}),$(".buffer-tools-container").css({display:"flex"}),$(".annotate-tools-container").css({display:"none"})}),$(".annotateDropDownMenuItem").click(function(){functionMode="annotate",$("#currentToolTag").text("Select Property"),$(".drawtooltiptext").css("visibility","hidden"),$(".draw-tools-container").css({display:"none"}),$(".buffer-tools-container").css({display:"none"}),$(".annotate-tools-container").css({display:"flex"})}),$("#undoBtn").click(function(){}),$(".eraseBtn").click(function(){map.graphics.clear()}),$(".doneDrawBtn").click(function(){functionMode="identify",$("#currentToolTag").text("Select Property")}),$("#annoTextBox").on("change paste keyup",function(){functionMode="annotate",$("#currentToolTag").text("Anno_Text"),annoDrawflag=!(mapPinDrawflag=!1),toolbar.activate(S.POINT),console.log("annoText val update")}),$("#bufferCreateBtn").click(function(){U(m,bufferCreateCount+=1)}),$("#bufferClearBtn").click(function(){map.graphics.clear(),bufferCumulativeVal=0});var V=new esri.tasks.PrintTemplate;V.layoutOptions={titleText:"Southern Nevada GIS - OpenWeb",scalebarUnit:"Kilometers",showAttribution:!0},V.exportOptions={width:800,height:600,dpi:96},V.preserveScale=!0,(params=new esri.tasks.PrintParameters).map=map,params.template=V,printTask=new esri.tasks.PrintTask(servicePrefix+"arcgis/rest/services/Utilities/PrintingTools/GPServer/Export%20Web%20Map%20Task");V.format="png32",V.layout="MAP_ONLY",$("#exportListItem").click(function(){externalPrint()}),$("#printInitLink").click(function(){externalPrint()}),basemap=new esri.layers.ArcGISTiledMapServiceLayer("http://maps.clarkcountynv.gov/arcgis_images/rest/services/CACHED/mostcurrentflight/MapServer",{id:"basemap"}),assessorServiceLayer=new esri.layers.ArcGISDynamicMapServiceLayer("http://maps.clarkcountynv.gov/arcgis/rest/services/GISMO/AssessorMap/MapServer",{id:"assessorServiceLayer"}),assessorannoServiceLayer=new esri.layers.ArcGISDynamicMapServiceLayer("https://maps.clarkcountynv.gov/arcgis/rest/services/GISMO/AssessorAnno/MapServer",{id:"assessorannoServiceLayer"}),transportationServiceLayer=new esri.layers.ArcGISDynamicMapServiceLayer("https://maps.clarkcountynv.gov/arcgis/rest/services/GISMO/scl/MapServer",{id:"transportationServiceLayer"}),abLayer=new esri.layers.ArcGISDynamicMapServiceLayer("https://maps.clarkcountynv.gov/arcgis/rest/services/GISMO/AB142/MapServer",{id:"abLayer"}),map.addLayers([basemap,assessorServiceLayer,assessorannoServiceLayer,transportationServiceLayer,abLayer]),bcLayer=new esri.layers.ArcGISDynamicMapServiceLayer("https://maps.clarkcountynv.gov/arcgis/rest/services/GISMO/Zoning/MapServer/5",{id:"bcLayer"}),PLULayer=new esri.layers.ArcGISDynamicMapServiceLayer("https://maps.clarkcountynv.gov/arcgis/rest/services/GISMO/PlanedLandUse/MapServer",{id:"PLULayer"}),CCZoningLayer=new esri.layers.ArcGISDynamicMapServiceLayer("https://maps.clarkcountynv.gov/arcgis/rest/services/GISMO/Zoning/MapServer/8",{id:"CCZoningLayer"}),C50Layer=new esri.layers.ArcGISDynamicMapServiceLayer("https://maps.clarkcountynv.gov/arcgis/rest/services/GISMO/con_50M/MapServer",{id:"C50Layer"}),C2003Layer=new esri.layers.ArcGISDynamicMapServiceLayer("https://maps.clarkcountynv.gov/arcgis/rest/services/GISMO/con_03_5ft/MapServer",{id:"C2003Layer"}),C1996Layer=new esri.layers.ArcGISDynamicMapServiceLayer("https://maps.clarkcountynv.gov/arcgis/rest/services/GISMO/con_96_5ft/MapServer",{id:"C1996Layer"}),hendersonZoningLayer=new esri.layers.ArcGISDynamicMapServiceLayer("https://maps.clarkcountynv.gov/arcgis/rest/services/GISMO/Zoning/MapServer/6",{id:"lasVegasZoningLayer"}),lasVegasZoningLayer=new esri.layers.ArcGISDynamicMapServiceLayer("https://maps.clarkcountynv.gov/arcgis/rest/services/GISMO/Zoning/MapServer/4",{id:"lasVegasZoningLayer"}),mesquiteZoningLayer=new esri.layers.ArcGISDynamicMapServiceLayer("https://maps.clarkcountynv.gov/arcgis/rest/services/GISMO/Zoning/MapServer/10",{id:"mesquiteZoningLayer"}),nlvZoningLayer=new esri.layers.ArcGISDynamicMapServiceLayer("https://maps.clarkcountynv.gov/arcgis/rest/services/GISMO/Zoning/MapServer/7",{id:"nlvZoningLayer"}),seismicLayer=new esri.layers.ArcGISDynamicMapServiceLayer("http://maps.clarkcountynv.gov/arcgis_images/rest/services/CACHED/mostcurrentflight/MapServer",{id:"seismicLayer"}),SoilLayer=new esri.layers.ArcGISDynamicMapServiceLayer("https://maps.clarkcountynv.gov/arcgis/rest/services/GISMO/SoilsGuideline/MapServer",{id:"SoilLayer"}),rightofwayLayer=new esri.layers.ArcGISDynamicMapServiceLayer("https://maps.clarkcountynv.gov/arcgis/rest/services/GISMO/RightOfWay/MapServer",{id:"rightofwayLayer"}),new O({map:map,highlightLocation:!1},"LocateButton").startup(),$(document).ready(function(){window.onresize=function(){sized()},sized(),dojo.connect(map,"onClick",function(e){if("identify"==functionMode)$("#printFriendlyLink").hide(),$("#printInitLink").show(),angular.element($("#mapDiv")).scope().executeQueryTask(e.mapPoint.x,e.mapPoint.y,"select"),console.log(e.mapPoint),map.infoWindow.show(e.screenPoint,map.getInfoWindowAnchor(e.screenPoint)),postMetric(productCode,sessionNumber+":Select Property");else if("draw"==functionMode);else if("buffer"==functionMode);else if("annotate"!=functionMode)return}),dojo.connect(map,"onMouseMove",function(e){angular.element($("#mapDiv")).scope().mapevtMouseMove(e.mapPoint.x,e.mapPoint.y)}),map.on("extent-change",function(e){var r=map.extent.getCenter(),a=map.getLevel();angular.element($("#mapDiv")).scope().mapevtExtentChange(r.x,r.y,a),setTimeout(function(){propInfoRepo_Second()},100),console.log("THIS IS THE ZOOM FACTOR "+map.zoomFactor),console.log("THIS IS THE MAX ZOOM "+map.getMaxZoom())}),map.on("zoom-end",function(e){console.log("MAP HAS BEEN ZOOMED")}),$(".map").hover(function(){console.log("Current functionMode: "+functionMode),"draw"===functionMode&&$(".drawtooltiptext").addClass("drawtooltiptextOnMapHover")},function(){$(".drawtooltiptext").removeClass("drawtooltiptextOnMapHover")}),map.on("layers-add-result",function(e){var r=B.map(e.layers,function(e,r){return{layer:e.layer,title:e.layer.name}});0<r.length&&new E({map:map,layerInfos:r},"legendDiv").startup()}),$("#closeIcon").click(function(e){$("#search-form input").val(""),$("#closeIcon").hide(),map.infoWindow.hide(),angular.element($("#mapDiv")).scope().propInfoVisNew(2)}),disclaimerCheck(),config(),postMetric(productCode,"UserAgent:"+navigator.userAgent.toString().toLowerCase())})}),$(function(){ieBrowser=detectIE(),console.log("M [[ ieBrowser: "+ieBrowser+" ]]")});